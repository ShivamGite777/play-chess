<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Multiplayer API</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            line-height: 1.6;
            color: #333;
        }
        .header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .logo {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        .api-info {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 8px;
            margin: 2rem 0;
        }
        .endpoint {
            background: #e9ecef;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            margin: 0.5rem 0;
            display: inline-block;
        }
        .status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .status.online {
            background: #d4edda;
            color: #155724;
        }
        .status.offline {
            background: #f8d7da;
            color: #721c24;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        .feature {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .feature h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        .tech-stack {
            background: #2c3e50;
            color: white;
            padding: 2rem;
            border-radius: 8px;
            margin: 2rem 0;
        }
        .tech-stack h3 {
            margin-top: 0;
        }
        .tech-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .tech-item {
            background: rgba(255,255,255,0.1);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">‚ôî</div>
        <h1>Chess Multiplayer API</h1>
        <p>A robust backend API for multiplayer chess games with real-time features</p>
        <div class="status online" id="status">‚óè Online</div>
    </div>

    <div class="api-info">
        <h2>API Information</h2>
        <p>This is a Node.js backend API. The main endpoints are:</p>
        
        <h3>Authentication</h3>
        <div class="endpoint">POST /api/auth/register</div>
        <div class="endpoint">POST /api/auth/login</div>
        <div class="endpoint">GET /api/auth/me</div>
        
        <h3>Games</h3>
        <div class="endpoint">GET /api/games/lobby</div>
        <div class="endpoint">POST /api/games/create</div>
        <div class="endpoint">POST /api/games/:id/join</div>
        <div class="endpoint">POST /api/games/:id/move</div>
        
        <h3>Users</h3>
        <div class="endpoint">GET /api/users/leaderboard</div>
        <div class="endpoint">GET /api/users/:id/profile</div>
        
        <h3>Health Check</h3>
        <div class="endpoint">GET /api/health</div>
    </div>

    <div class="features">
        <div class="feature">
            <h3>üéÆ Real-time Gameplay</h3>
            <p>WebSocket support for live move broadcasting, timer synchronization, and chat messages.</p>
        </div>
        <div class="feature">
            <h3>üîí Secure Authentication</h3>
            <p>JWT-based authentication with refresh tokens and comprehensive security measures.</p>
        </div>
        <div class="feature">
            <h3>‚ôüÔ∏è Chess Engine</h3>
            <p>Server-side move validation using chess.js - never trust the client!</p>
        </div>
        <div class="feature">
            <h3>‚è±Ô∏è Multiple Time Controls</h3>
            <p>Support for bullet, blitz, rapid, classical games with Fischer increment and delay modes.</p>
        </div>
        <div class="feature">
            <h3>üìä Rating System</h3>
            <p>ELO rating system with automatic updates and comprehensive statistics.</p>
        </div>
        <div class="feature">
            <h3>üë• Spectator Support</h3>
            <p>Watch games in real-time with spectator mode and chat functionality.</p>
        </div>
    </div>

    <div class="tech-stack">
        <h3>Technology Stack</h3>
        <div class="tech-list">
            <div class="tech-item">Node.js</div>
            <div class="tech-item">Express.js</div>
            <div class="tech-item">Socket.io</div>
            <div class="tech-item">PostgreSQL</div>
            <div class="tech-item">Redis</div>
            <div class="tech-item">chess.js</div>
            <div class="tech-item">JWT</div>
            <div class="tech-item">Winston</div>
            <div class="tech-item">Jest</div>
            <div class="tech-item">Docker</div>
        </div>
    </div>

    <div class="api-info">
        <h2>Getting Started</h2>
        <p>To use this API, you'll need to:</p>
        <ol>
            <li>Register a new user account</li>
            <li>Login to get your JWT token</li>
            <li>Use the token in the Authorization header for protected endpoints</li>
            <li>Connect via WebSocket for real-time features</li>
        </ol>
        
        <h3>Example Usage</h3>
        <pre style="background: #f8f9fa; padding: 1rem; border-radius: 4px; overflow-x: auto;">
// Register a new user
POST /api/auth/register
{
  "username": "player1",
  "email": "player1@example.com",
  "password": "SecurePassword123"
}

// Login
POST /api/auth/login
{
  "email": "player1@example.com",
  "password": "SecurePassword123"
}

// Create a game
POST /api/games/create
Authorization: Bearer YOUR_JWT_TOKEN
{
  "game_mode": "blitz",
  "time_control": 300,
  "increment_seconds": 5
}
        </pre>
    </div>

    <script>
        // Check API health
        fetch('/api/health')
            .then(response => response.json())
            .then(data => {
                const statusEl = document.getElementById('status');
                if (data.success) {
                    statusEl.textContent = '‚óè Online';
                    statusEl.className = 'status online';
                } else {
                    statusEl.textContent = '‚óè Offline';
                    statusEl.className = 'status offline';
                }
            })
            .catch(error => {
                const statusEl = document.getElementById('status');
                statusEl.textContent = '‚óè Offline';
                statusEl.className = 'status offline';
            });
    </script>
</body>
</html>